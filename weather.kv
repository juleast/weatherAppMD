<DrawerItem@MDNavigationDrawerItem>:
    padding: 0, 0, "10dp", 0
    focus_color: app.theme_cls.primary_light
<Content>:
    orientation: 'vertical'
<MainScreen>:
    # access variables relating to today weather data
    temp: temp_text
    temp_low: temp_low
    temp_high: temp_high
    temp_feels: temp_feels
    city_name: city_name
    weather_icon: weather_icon
    weather_condition: weather_condition
    weather_precip: weather_precip
    weather_wind: weather_wind
    weather_humid: weather_humid
    # access variables related to tmr weather data
    temp_low_tm: temp_low_tm
    temp_high_tm: temp_high_tm
    weather_icon_tm: weather_icon_tm
    weather_condition_tm: weather_condition_tm
    weather_precip_tm: weather_precip_tm
    weather_wind_tm: weather_wind_tm
    weather_humid_tm: weather_humid_tm
    # other widget variables
    nav_drawer: nav_drawer
    # the main navigation layout
    MDNavigationLayout:
        ScreenManager:
            id: screenmanager
            # the main screen that contains stuff related to weather
            Screen:
                name: "main"
                MDGridLayout:
                    rows: 2
                    # the top app bar for title, updates and etc.
                    MDTopAppBar:
                        id: city_name
                        md_bg_color: app.theme_cls.accent_light
                        title: "Simple Weather"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        right_action_items: [["reload", lambda x: root.update()]]
                        MDProgressBar:
                            id: progress
                            size_hint: (1, .1)
                            type: "indeterminate"
                    # the bottom navigation widget and a few screens for today, tomorrow and 10 days weather
                    MDBottomNavigation:
                        panel_color: app.theme_cls.primary_light
                        # today weather page
                        MDBottomNavigationItem:
                            name: "screen 1"
                            text: "Today"
                            icon: "sun-thermometer"
                            # background image
                            FitImage:
                                source: './assets/images/gorgeous-clouds-background-with-blue-sky-design/25501.jpg'
                            # basic weather info
                            MDGridLayout:
                                rows: 2
                                padding: 20
                                # temperature and condition
                                MDGridLayout:

                                    canvas.before:
                                        Line:
                                            width: 1
                                            rectangle: self.x, self.y, self.width, self.height
                                    cols: 2
                                    size_hint_y: .6
                                    #
                                    MDGridLayout:
                                        canvas.before:
                                            Line:
                                                width: 1
                                                rectangle: self.x, self.y, self.width, self.height
                                        rows: 2
                                        # labels that show low and high temperatures
                                        MDGridLayout:
                                            cols: 2
                                            padding: "5dp", 0, "5dp", 0
                                            size_hint_y: .2
                                            MDGridLayout:
                                                cols: 2
                                                MDIcon:
                                                    icon: "arrow-down-thin"
                                                    size_hint: (1, .5)
                                                    halign: 'right'
                                                MDLabel:
                                                    id: temp_low
                                                    text: "Low"
                                                    font_size: "15sp"
                                                    halign: 'left'
                                            MDGridLayout:
                                                cols: 2
                                                MDIcon:
                                                    icon: "arrow-up-thin"
                                                    size_hint: (1, .5)
                                                    halign: 'right'
                                                MDLabel:
                                                    id: temp_high
                                                    text: "High"
                                                    font_size: "15sp"
                                                    halign: 'left'
                                        # layout that has labels for main temperature and feels like temperature
                                        MDGridLayout:
                                            canvas.before:
                                                Line:
                                                    width: 1
                                                    rectangle: self.x, self.y, self.width, self.height

                                            rows: 2
                                            MDLabel:
                                                canvas.before:
                                                    Line:
                                                        width: 1
                                                        rectangle: self.x, self.y, self.width, self.height
                                                id: temp_text
                                                text: "Temp"
                                                halign: 'center'
                                                font_size: "56sp"
                                            MDLabel:
                                                id: temp_feels
                                                text: "Feels Like"
                                                font_size: "15sp"
                                                size_hint_y: .3
                                                halign: 'center'
                                    # layout that has weather icon and conditions
                                    MDGridLayout:
                                        canvas.before:
                                            Line:
                                                width: 1
                                                rectangle: self.x, self.y, self.width, self.height
                                        rows: 3
                                        # emtpy label to level out the size of the icon with the main temp label
                                        MDLabel:
                                            canvas.before:
                                                Line:
                                                    width: 1
                                                    rectangle: self.x, self.y, self.width, self.height
                                            size_hint_y: .2
                                        MDGridLayout:
                                            rows: 2
                                            Image:
                                                id: weather_icon
                                                valign: 'center'
                                                source: "./assets/icons/clear-day.png"
                                            MDLabel:
                                                canvas.before:
                                                    Line:
                                                        width: 1
                                                        rectangle: self.x, self.y, self.width, self.height
                                                id: weather_condition
                                                text: "Clear"
                                                font_size: "15sp"
                                                size_hint_y: .3
                                                halign: 'center'
                                # misc weather data
                                MDGridLayout:
                                    canvas.before:
                                        Line:
                                            width: 1
                                            rectangle: self.x, self.y, self.width, self.height

                                    rows: 3
                                    size_hint_y: 1
                                    MDGridLayout:
                                        size_hint_y: 1
                                        cols: 2
                                        MDLabel:
                                            text: "Precip"
                                        MDLabel:
                                            id: weather_precip
                                            text: "1%"
                                    MDGridLayout:
                                        size_hint_y: 1
                                        cols: 2
                                        MDLabel:
                                            text: "Wind Speed"
                                        MDLabel:
                                            id: weather_wind
                                            text: "2 km/h"
                                    MDGridLayout:
                                        size_hint_y: 1
                                        cols: 2
                                        MDLabel:
                                            text: "Humidity"
                                        MDLabel:
                                            id: weather_humid
                                            text: "50%"
                        # tomorrow weather page
                        MDBottomNavigationItem:
                            name: "screen 2"
                            text: "Tomorrow"
                            icon: "sun-clock"
                            # background image
                            FitImage:
                                source: './assets/images/gorgeous-clouds-background-with-blue-sky-design/25501.jpg'
                            # basic weather info
                            MDGridLayout:
                                rows: 2
                                padding: 20
                                # temperature and condition
                                MDGridLayout:

                                    canvas.before:
                                        Line:
                                            width: 1
                                            rectangle: self.x, self.y, self.width, self.height
                                    cols: 2
                                    size_hint_y: .6
                                    #
                                    MDGridLayout:
                                        canvas.before:
                                            Line:
                                                width: 1
                                                rectangle: self.x, self.y, self.width, self.height
                                        rows: 2
                                        # labels that show low and high temperatures
                                        MDGridLayout:
                                            cols: 2
                                            padding: "5dp", 0, "5dp", 0
                                            size_hint_y: .2
                                            MDGridLayout:
                                                cols: 2
                                                MDIcon:
                                                    icon: "arrow-down-thin"
                                                    size_hint: (1, .5)
                                                    halign: 'right'
                                                MDLabel:
                                                    id: temp_low_tm
                                                    text: "Low"
                                                    font_size: "10sp"
                                                    halign: 'left'
                                            MDGridLayout:
                                                cols: 2
                                                MDIcon:
                                                    icon: "arrow-up-thin"
                                                    size_hint: (1, .5)
                                                    halign: 'right'
                                                MDLabel:
                                                    id: temp_high_tm
                                                    text: "High"
                                                    font_size: "10sp"
                                                    halign: 'left'
                                        # layout that has labels for main temperature and feels like temperature
                                        MDGridLayout:
                                            canvas.before:
                                                Line:
                                                    width: 1
                                                    rectangle: self.x, self.y, self.width, self.height

                                            rows: 2
                                            MDLabel:
                                                canvas.before:
                                                    Line:
                                                        width: 1
                                                        rectangle: self.x, self.y, self.width, self.height
                                                id: temp_text_tm
                                                text: "Temp"
                                                halign: 'center'
                                                font_size: "46sp"
                                            MDLabel:
                                                id: temp_feels_tm
                                                text: "Feels Like"
                                                font_size: "15sp"
                                                size_hint_y: .3
                                                halign: 'center'
                                    # layout that has weather icon and conditions
                                    MDGridLayout:
                                        canvas.before:
                                            Line:
                                                width: 1
                                                rectangle: self.x, self.y, self.width, self.height
                                        rows: 3
                                        # emtpy label to level out the size of the icon with the main temp label
                                        MDLabel:
                                            canvas.before:
                                                Line:
                                                    width: 1
                                                    rectangle: self.x, self.y, self.width, self.height
                                            size_hint_y: .2
                                        MDGridLayout:
                                            rows: 2
                                            Image:
                                                id: weather_icon_tm
                                                valign: 'center'
                                                source: "./assets/icons/clear-day.png"
                                            MDLabel:
                                                canvas.before:
                                                    Line:
                                                        width: 1
                                                        rectangle: self.x, self.y, self.width, self.height
                                                id: weather_condition_tm
                                                text: "Clear"
                                                font_size: "15sp"
                                                size_hint_y: .3
                                                halign: 'center'
                                # misc weather data
                                MDGridLayout:
                                    canvas.before:
                                        Line:
                                            width: 1
                                            rectangle: self.x, self.y, self.width, self.height

                                    rows: 3
                                    size_hint_y: 1
                                    MDGridLayout:
                                        size_hint_y: 1
                                        cols: 2
                                        MDLabel:
                                            text: "Precip"
                                        MDLabel:
                                            id: weather_precip_tm
                                            text: "1%"
                                    MDGridLayout:
                                        size_hint_y: 1
                                        cols: 2
                                        MDLabel:
                                            text: "Wind Speed"
                                        MDLabel:
                                            id: weather_wind_tm
                                            text: "2 km/h"
                                    MDGridLayout:
                                        size_hint_y: 1
                                        cols: 2
                                        MDLabel:
                                            text: "Humidity"
                                        MDLabel:
                                            id: weather_humid_tm
                                            text: "50%"
                        # 10 days weather page
                        MDBottomNavigationItem:
                            name: "screen 3"
                            text: "10 days"
                            icon: "clock-fast"
                            MDLabel:
                                text: "Yeet3"
                                halign: 'center'

            Screen:
                name: "settings"
                MDGridLayout:
                    rows: 2
                    MDTopAppBar:
                        left_action_items: [["arrow-left", lambda x: root.open_main()]]


        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, "16dp", "16dp", 0)
            md_bg_color: "lightgrey"
            size_hint_x: .7
            MDNavigationDrawerMenu:
                MDNavigationDrawerHeader:
                    title: "Simple Weather"
                    title_font_size: "20sp"
                    title_halign: 'center'
                    padding: 0, 0, "26dp", 0
                MDNavigationDrawerDivider:
                    size_hint_x: 1
                    padding: 0, "10dp", 0, "10dp"
                DrawerItem:
                    icon: "map-marker-multiple"
                    text: "Locations"
                    on_release: root.picker.open()
                DrawerItem:
                    icon: "cog"
                    text: "Settings"
                    on_release: root.open_settings()
